maintainer : Justin
name       : deepin-dock
version    : 5.1.0.9
release    : 5
source     :
    - https://github.com/linuxdeepin/dde-dock/archive/5.1.0.9.tar.gz : dea1d9c0ac902fe35890c9ea14d71f3d7a85790b2c7d38b371418cf30af474c0
license    : GPL-3.0-or-later
component  : desktop.deepin
summary    : Deepin Dock is the dock of Deepin Desktop Environment.
description: |
    Deepin Dock is the dock of Deepin Desktop Environment.
builddeps  :
    - pkgconfig(dbusmenu-qt5)
    - pkgconfig(dde-network-utils)
    - pkgconfig(dtkwidget)
    - pkgconfig(gl)
    - pkgconfig(gsettings-qt)
    - pkgconfig(Qt5Svg)
    - pkgconfig(Qt5UiTools)
    - pkgconfig(Qt5X11Extras)
    - pkgconfig(xcb-ewmh)
    - pkgconfig(xcb-image)
    - pkgconfig(xtst)
    - deepin-qt-dbus-factory-devel
setup      : |
    mkdir build
    pushd build
    %cmake ..
    popd
build      : |
    pushd build
    %make
    popd
install    : |
    mkdir -p %installroot%/usr/share/glib-2.0/schemas/
    cp $pkgfiles/com.deepin.dde.dock.module.gschema.xml %installroot%/usr/share/glib-2.0/schemas/
    pushd build
    %make_install INSTALL_ROOT=$installdir
    popd
